# Sentiment Analysis-part 3

חלק 3- ניתוח סנטימנט 
נעם ציגלר, אלעד קציר, גל בדיחי
3. על מנת לבצע את ניתוח הסנטימנט של הפוסטים שלקחנו מרדיט ,נשתמש כלי NLP בשם VADER(Valence Aware Dictionary and sentiment Reasoner)  .   
אשר מטרתו היא לנתח פוסטים מרשתות חברתיות וטקסטים קצרים ולתת ציון בטווח בין 1 ל1- . נגדיר את ציון הסנטימנט להיות חיובי אם גדול מ0.05  ,שלילי אם קטן מ0.05 וניטראלי אחרת. בנוסף לקחנו מכל פוסט ברדיט מספר נתונים:
	כותרת
	מספר תגובות
	יחס UP VOTE  - מספר ההצבעות החיוביות מתוך כלל ההצבעות לפוסט  upvote ratio=upvotes/(upvotes+downvotes)       
אנו יוצרים DF של פוסטים כאשר כל פוסט מכיל את המאפיינים שציינו ואת חישוב הסנטימנט שביצענו.
4. בטבלה שיצרנו בחרנו לשים את השדות :
	כותרת
	מספר תגובות
	upvote ratio
	ציון סנטימנט 
	הסנטימנט
לדעתנו שדות אלו מביאים לנו את המידע הרלוונטי עבור כל כתבה ועוזרים לנו לבצע בצורה טובה את המשימה הבאה.

5. על מנת לחשוב על שיטה שמתחשבת בתוך ציון הסנטימנט שלה בויראליות  של הפוסט הגדרנו "פקטור ויראליות " אשר יחושב ע"פ הנוסחא הבאה :
virality factor=1+((log⁡(1+score) )*(1+comments/100)*upvote ratio)
כאשר לבסוף נכפיל את ציון הסנטימנט שהחזיר המודל ונכפיל אותו בציון הויראליות.
ראשית נציין ש score=number of upvotes   
המשוואה נבחרה כך שהפקטור יהיה לכל הפחות 1 ולנסות לגרום לכך שגורם ספציפי חזק מאד לא גורם למספר להיות מאד גבוה.
score,comments,upvote ratio   הם לכל הפחות 0 לכן log⁡(1+score)≥0 ובאותו אופן 1+comments/100≥1. כלומר נקבל שהביטוי                                                   (log⁡(1+score) )*(1+comments/100)*upvote ratio≥0   לכן הפקטור כולו הוא לכל הפחות 1 כלומר רק יגדיל את ציון הסנטימנט.
הסיבה לבחירה של פרמטרים אלו הן ש upvote ratio    מייצג בצורה טובה האם הפוסט הוא פוסט שנוי במחלוקת או פוסט שמייצג דעה יותר רווחת אך יחס זה לא משקף את הויראליות של הפוסט שכן פוסט עם  upvotes   בודד ללא  downvotes ופוסט עם מיליון upvotes וללא down votes  יקבלו יחס דומה לכן נשקלל בפקטור גם את מספר upvotes  בפרמטר score. הסיבה שהוא נמצא בתוך log היא כדי למנוע "התפוצצות" של פוסטים עם מספר scoreגבוה אך עם זאת כן לתת חשיבות לכך שפוסט עם upvotes   רבים ככל הנראה יהיה מאד ויראלי וכן נדרש להתחשב בכך בציונו. מסיבה דומה נחלק את comments   ב100 . חלוקה ב100 היא פעולה פחות אגרסיבית מlog והיא נבחרה מכיוון שתגובות גם הן מדד טוב לויראליות של פוסט אך רצינו להוריד את הערך שלהן בצורה אחרת מאת הscore   על מנת לקבל גיוון נוסף בציון הויראליות .

7. במשימה זו נדרשנו למצוא API  נוסף ממנו נשאב ידיעות חדשותיות על AAPL .
אנו בחרנו להשתמש בNEWSAPI . שאבנו כ100 פוסטים על AAPL ושמנו בטבלה עבור כל פוסט את הכותרת ,טקסט,סיכום ואותו ציון סנטימנט שחושב ע"י VADER .
ע"מ לבצע את הפרסור של התוכן של הכתבות השתמשנו בספריית BeautifulSoup, לאחר מכן הורדנו את הפוסטים שהתוכן שלהם ריק, ששפתם אינה אנגלית ואת אלו שדרשו גישה לקבצי COOKIES וגרמו לכך שלאחר הפרסור לא ראינו את הכתבה.
לאחר שפרסרנו את תוכן הכתבה הכנסנו את כל התוכן ששאבנו לתוך D.
